<style type="text/css">
    /* Default styles for all screen sizes */
    article > a:first-child:has(img),
    article > a:nth-child(2):has(img) {
        /* Default styles here */
    }

    /* Media query for large screens (1000px and above) */
    @media only screen and (min-width: 1000px) {
        article > a:first-child:has(img),
        article > a:nth-child(2):has(img),
        article > img:first-child,
        article > img:nth-child(2),
        .pg-msnr-container > div {
            max-width: 40%;
            margin-right: 20px;
        }
    }

    /* Media query for medium screens (720px - 1000px) */
    @media only screen and (min-width: 720px) and (max-width: 999px) {
        article > a:first-child:has(img),
        article > a:nth-child(2):has(img),
        article > img:first-child,
        article > img:nth-child(2),
        .pg-msnr-container > div {
            max-width: 50%;
            margin-right: 20px;
        }
    }
</style>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const maxWidthPercentage = 55;
        // Function to check and adjust image and its parent link width
        function checkAndAdjustWidth(element) {
            const article = element.closest("article");
            const elementWidthPercentage =
                (element.clientWidth / article.clientWidth) * 100;

            if (elementWidthPercentage > maxWidthPercentage) {
                // Set the element width to 100%
                element.style.width = "100%";

                // If the element is a link, check and adjust its child img width
                if (element.tagName === "A" && element.querySelector("img")) {
                    const img = element.querySelector("img");
                    img.style.width = "100%";
                }
            }
        }

        // Check and adjust widths for images
        const articleImages = document.querySelectorAll("article img");
        articleImages.forEach(function (image) {
            checkAndAdjustWidth(image);
        });

        // Check and adjust widths for links with img as direct child
        const articleLinks = document.querySelectorAll("article a > img");
        articleLinks.forEach(function (img) {
            const link = img.parentElement;
            checkAndAdjustWidth(link);
        });
    });
</script>
